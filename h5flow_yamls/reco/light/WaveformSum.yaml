classname: WaveformSum # light/wvfm_sum.py
requires:
  - 'light/events'
  - 'light/deconv'
  - 'light/deconv/alignment'
params:
  # input
  wvfm_dset_name: 'light/deconv'

  # output
  swvfm_dset_name: 'light/swvfm'

  # configuration parameters
  gain:
    # by default, don't include channel in waveform sum
    default: 0.0000e+00
    # each gain value provided here is based on a calibration to the observed
    # signal on the charge readout, using cosmic events with no activity within
    # 2cm of any light detector. Units are keV/ADC
    0: {
      2: 1.1951e-01, 3: 1.1871e-01, 4: 1.1126e-01, 5: 1.0318e-01, 6: 1.0861e-01, 7: 2.5273e-01,
      9: 9.8463e-02, 10: 1.0674e-01, 11: 1.2248e-01, 12: 1.2631e-01, 13: 0.0000e+00, 14: 2.0166e-01,
      18: 1.2706e-01, 19: 1.4123e-01, 20: 1.5424e-01, 21: 1.3427e-01, 22: 1.3993e-01, 23: 1.3436e-01,
      25: 8.9361e-02, 26: 9.4880e-02, 27: 1.2265e-01, 28: 1.2665e-01, 29: 1.3140e-01, 30: 1.4925e-01,
      34: 0.0000e+00, 35: 0.0000e+00, 36: 0.0000e+00, 37: 0.0000e+00, 38: 0.0000e+00, 39: 0.0000e+00,
      41: 8.6228e-02, 42: 8.6169e-02, 43: 1.1319e-01, 44: 1.2783e-01, 45: 1.0314e-01, 46: 1.0681e-01,
      50: 1.1028e-01, 51: 1.0620e-01, 52: 1.0337e-01, 53: 1.1395e-01, 54: 1.0113e-01, 55: 9.2771e-02,
      57: 1.4562e-01, 58: 1.3886e-01, 59: 1.6671e-01, 60: 1.9253e-01, 61: 1.1782e-01, 62: 1.2154e-01,
    }

    1: {
      2: 1.2767e-01, 3: 1.2929e-01, 4: 1.1948e-01, 5: 1.1348e-01, 6: 1.0004e-01, 7: 1.0064e-01,
      9: 1.1150e-01, 10: 1.1836e-01, 11: 1.3098e-01, 12: 1.3031e-01, 13: 1.1647e-01, 14: 1.0656e-01,
      18: 9.3792e-02, 19: 9.2963e-02, 20: 9.8565e-02, 21: 9.4803e-02, 22: 9.3667e-02, 23: 9.5866e-02,
      25: 1.0371e-01, 26: 1.0743e-01, 27: 1.4446e-01, 28: 1.4653e-01, 29: 1.3132e-01, 30: 1.3607e-01,
      34: 0.0000e+00, 35: 1.1955e-01, 36: 1.3513e-01, 37: 1.1206e-01, 38: 1.1787e-01, 39: 1.1129e-01,
      41: 9.8484e-02, 42: 9.6465e-02, 43: 1.4974e-01, 44: 1.4404e-01, 45: 1.0300e-01, 46: 1.1133e-01,
      50: 1.0698e-01, 51: 9.6853e-02, 52: 1.0770e-01, 53: 1.0303e-01, 54: 1.0507e-01, 55: 1.1152e-01,
      57: 9.6220e-02, 58: 1.0405e-01, 59: 1.3277e-01, 60: 1.3809e-01, 61: 1.0730e-01, 62: 1.1257e-01,
    }
