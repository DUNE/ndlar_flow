classname: WaveformHitFinder # light/hit_finder.py
path: proto_nd_flow.reco.light.hit_finder
requires:
  - 'light/swvfm'
  - 'light/swvfm/alignment'
  - 'light/t_ns'
params:
  # inputs
  wvfm_dset_name: 'light/swvfm'
  t_ns_dset_name: 'light/t_ns'

  # output
  hits_dset_name: 'light/sum_hits' # new dataset to produce

  # configuration parameters
  near_samples: 4

  #threshold: !include yamls/proto_nd_flow/reco/light/sipm_threshold.yaml
  threshold: 
    0 : {0 : 1000, 1 : 330, 2 : 330, 3 : 330, 4 : 1000, 5 : 330, 6 : 330, 7 : 330, 8 : 1000, 9 : 330, 10 : 330, 11 : 330, 12 : 1000, 13 : 330, 14 : 330, 15 : 330}
    1 : {0 : 1000, 1 : 330, 2 : 330, 3 : 330, 4 : 1000, 5 : 330, 6 : 330, 7 : 330, 8 : 1000, 9 : 330, 10 : 330, 11 : 330, 12 : 1000, 13 : 330, 14 : 330, 15 : 330}
    2 : {0 : 1000, 1 : 330, 2 : 330, 3 : 330, 4 : 1000, 5 : 330, 6 : 330, 7 : 330, 8 : 1000, 9 : 330, 10 : 330, 11 : 330, 12 : 1000, 13 : 330, 14 : 330, 15 : 330}
    3 : {0 : 1000, 1 : 330, 2 : 330, 3 : 330, 4 : 1000, 5 : 330, 6 : 330, 7 : 330, 8 : 1000, 9 : 330, 10 : 330, 11 : 330, 12 : 1000, 13 : 330, 14 : 330, 15 : 330}
    4 : {0 : 1000, 1 : 330, 2 : 330, 3 : 330, 4 : 1000, 5 : 330, 6 : 330, 7 : 330, 8 : 1000, 9 : 330, 10 : 330, 11 : 330, 12 : 1000, 13 : 330, 14 : 330, 15 : 330}
    5 : {0 : 1000, 1 : 330, 2 : 330, 3 : 330, 4 : 1000, 5 : 330, 6 : 330, 7 : 330, 8 : 1000, 9 : 330, 10 : 330, 11 : 330, 12 : 1000, 13 : 330, 14 : 330, 15 : 330}
    6 : {0 : 1000, 1 : 330, 2 : 330, 3 : 330, 4 : 1000, 5 : 330, 6 : 330, 7 : 330, 8 : 1000, 9 : 330, 10 : 330, 11 : 330, 12 : 1000, 13 : 330, 14 : 330, 15 : 330}
    7 : {0 : 1000, 1 : 330, 2 : 330, 3 : 330, 4 : 1000, 5 : 330, 6 : 330, 7 : 330, 8 : 1000, 9 : 330, 10 : 330, 11 : 330, 12 : 1000, 13 : 330, 14 : 330, 15 : 330}