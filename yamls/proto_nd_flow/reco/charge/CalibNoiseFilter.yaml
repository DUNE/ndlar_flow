classname: CalibNoiseFilter # reco/charge/calib_noise_filter
path: proto_nd_flow.reco.charge.calib_noise_filter
requires:
  - 'charge/events'
  - 'charge/calib_prompt_hits'
  - name: 'packet_frac_backtrack'
    path: ['charge/calib_prompt_hits','mc_truth/calib_prompt_hit_backtrack']

params:
  # inputs
  events_dset_name: 'charge/events'
  hits_name: 'charge/calib_prompt_hits'
  max_contrib_segments: 200
  merge_cut: 65 # merge hits with delta t < merge_cut [CRS ticks]
  max_merge_steps: 50 # max number of iterations when merging
                       # adjacent packets in time on the same channel
  filter_function_names: ['correlated_post_trigger_filter', 'low_current_filter'] #which filter functions to apply to the prompt hits (this is an ordered list!)
  # outputs
  merged_name: 'charge/calib_final_hits'
  mc_hit_frac_dset_name: 'mc_truth/calib_final_hit_backtrack'

