# Copied from yamls/proto_nd_flow/reco/light/WaveformCalib.yaml

classname: WaveformCalib
path: proto_nd_flow.reco.light.wvfm_calib
requires:
  - 'light/events'
  - 'light/deconv'
  - 'light/deconv/alignment'
params:
  # input
  wvfm_dset_name: 'light/deconv'

  # output
  cwvfm_dset_name: 'light/cwvfm'

  # configuration parameters
  gain:
    # by default, don't include channel in waveform sum
    default: 0.0000e+00
      
    # JINR gain calibration using LEDs. Units are PE/tick / ADC
    1 : {2 : 0.00017191110133127956, 3 : 0.0001761754425527117, 4 : 0.00018319849923789422, 5 : 0.00018440930012982414, 6 : 0.00018187638226050518, 7 : 0.00017276647501105705, 9 : 0.0018423534960499937, 10 : 0.0018985419198055892, 11 : 0.0018419191323824117, 12 : 0.001834566161794059, 13 : 0.0019141247090530443, 14 : 0.001795977011494253, 18 : 0.00017462002682163612, 19 : 0.0001813276082163166, 20 : 0.00016716593559430834, 21 : 0.00017007728311744857, 22 : 0.00017198679141441938, 23 : 0.00017083971134922372, 25 : 0.001758383974791807, 26 : 0.0017589778228076101, 27 : 0.0019614612101431085, 28 : 0.0019373837569745813, 29 : 0.0019247351564424735, 30 : 0.0019015455762443718, 35 : 0.00016686245194361384, 36 : 0.00018683486787038144, 37 : 0.00017798154687322017, 38 : 0.00017481539494294026, 39 : 0.00017871440009150177, 41 : 0.001475866628884481, 42 : 0.0014721123045034858, 43 : 0.0014424852289512554, 44 : 0.0014772619835492105, 45 : 0.0014643861293345832, 46 : 0.001474473907709729, 50 : 0.00016456029489204845, 51 : 0.00016345852076577046, 52 : 0.00016537891617273497, 53 : 0.00015805179041068177, 54 : 0.00016186677716771987, 55 : 0.00016686245194361384, 57 : 0.0016541393182299387, 58 : 0.0016643587558585428, 59 : 0.0016650682011935208, 60 : 0.0016837284482758622, 61 : 0.001694134229643283, 62 : 0.0017037400501581073, }
    0 : {2 : 0.00018023993540200716, 3 : 0.00018247109657830202, 4 : 0.00017972164711295148, 5 : 0.00017703376387944708, 6 : 0.0001798043728423475, 9 : 0.001560939060939061, 10 : 0.001637497380004192, 11 : 0.0017230921923246578, 12 : 0.0016700513039760582, 14 : 0.0016154880066170387, 18 : 0.0002223249857712009, 19 : 0.00023735379006531977, 20 : 0.00020202999741401602, 21 : 0.00019499563209784103, 22 : 0.00023994164619164617, 23 : 0.0002326533650982728, 25 : 0.0015733561574866578, 26 : 0.0016048685291700903, 27 : 0.0016093315480482024, 28 : 0.0016489024905023215, 29 : 0.001644390654599032, 30 : 0.001607179592676404, 41 : 0.0016116554925219185, 42 : 0.0016318537859007834, 43 : 0.0016325357851844113, 44 : 0.0016645360605092147, 45 : 0.0015631252501000401, 46 : 0.0016629416773094932, 50 : 0.0002136021872863978, 51 : 0.00020618896806545261, 52 : 0.00019383451184716536, 53 : 0.00020265888456549936, 54 : 0.00019937476075028708, 55 : 0.00019347449232293213, 57 : 0.0019894321364909598, 58 : 0.0020268517317421197, 59 : 0.0016837284482758622, 60 : 0.0016012502562000412, 61 : 0.0016291314774267544, 62 : 0.0019446172993154947, }

  gain_mc:
    default: 0.0
  
    0: {04 : 0.022857, 05 : 0.022857, 06 : 0.022857, 07 : 0.022857, 08 : 0.022857, 09 : 0.022857, 10 : 0.022857, 11 : 0.022857, 12 : 0.022857, 13 : 0.022857, 14 : 0.022857, 15 : 0.022857,
        20 : 0.022857, 21 : 0.022857, 22 : 0.022857, 23 : 0.022857, 24 : 0.022857, 25 : 0.022857, 26 : 0.022857, 27 : 0.022857, 28 : 0.022857, 29 : 0.022857, 30 : 0.022857, 31 : 0.022857,
        36 : 0.022857, 37 : 0.022857, 38 : 0.022857, 39 : 0.022857, 40 : 0.022857, 41 : 0.022857, 42 : 0.022857, 43 : 0.022857, 44 : 0.022857, 45 : 0.022857, 46 : 0.022857, 47 : 0.022857, 
        52 : 0.022857, 53 : 0.022857, 54 : 0.022857, 55 : 0.022857, 56 : 0.022857, 57 : 0.022857, 58 : 0.022857, 59 : 0.022857, 60 : 0.022857, 61 : 0.022857, 62 : 0.022857, 63 : 0.022857}

    1: {04 : 0.022857, 05 : 0.022857, 06 : 0.022857, 07 : 0.022857, 08 : 0.022857, 09 : 0.022857, 10 : 0.022857, 11 : 0.022857, 12 : 0.022857, 13 : 0.022857, 14 : 0.022857, 15 : 0.022857,
        20 : 0.022857, 21 : 0.022857, 22 : 0.022857, 23 : 0.022857, 24 : 0.022857, 25 : 0.022857, 26 : 0.022857, 27 : 0.022857, 28 : 0.022857, 29 : 0.022857, 30 : 0.022857, 31 : 0.022857,
        36 : 0.022857, 37 : 0.022857, 38 : 0.022857, 39 : 0.022857, 40 : 0.022857, 41 : 0.022857, 42 : 0.022857, 43 : 0.022857, 44 : 0.022857, 45 : 0.022857, 46 : 0.022857, 47 : 0.022857, 
        52 : 0.022857, 53 : 0.022857, 54 : 0.022857, 55 : 0.022857, 56 : 0.022857, 57 : 0.022857, 58 : 0.022857, 59 : 0.022857, 60 : 0.022857, 61 : 0.022857, 62 : 0.022857, 63 : 0.022857}

    2: {04 : 0.022857, 05 : 0.022857, 06 : 0.022857, 07 : 0.022857, 08 : 0.022857, 09 : 0.022857, 10 : 0.022857, 11 : 0.022857, 12 : 0.022857, 13 : 0.022857, 14 : 0.022857, 15 : 0.022857,
        20 : 0.022857, 21 : 0.022857, 22 : 0.022857, 23 : 0.022857, 24 : 0.022857, 25 : 0.022857, 26 : 0.022857, 27 : 0.022857, 28 : 0.022857, 29 : 0.022857, 30 : 0.022857, 31 : 0.022857,
        36 : 0.022857, 37 : 0.022857, 38 : 0.022857, 39 : 0.022857, 40 : 0.022857, 41 : 0.022857, 42 : 0.022857, 43 : 0.022857, 44 : 0.022857, 45 : 0.022857, 46 : 0.022857, 47 : 0.022857, 
        52 : 0.022857, 53 : 0.022857, 54 : 0.022857, 55 : 0.022857, 56 : 0.022857, 57 : 0.022857, 58 : 0.022857, 59 : 0.022857, 60 : 0.022857, 61 : 0.022857, 62 : 0.022857, 63 : 0.022857}

    3: {04 : 0.022857, 05 : 0.022857, 06 : 0.022857, 07 : 0.022857, 08 : 0.022857, 09 : 0.022857, 10 : 0.022857, 11 : 0.022857, 12 : 0.022857, 13 : 0.022857, 14 : 0.022857, 15 : 0.022857,
        20 : 0.022857, 21 : 0.022857, 22 : 0.022857, 23 : 0.022857, 24 : 0.022857, 25 : 0.022857, 26 : 0.022857, 27 : 0.022857, 28 : 0.022857, 29 : 0.022857, 30 : 0.022857, 31 : 0.022857,
        36 : 0.022857, 37 : 0.022857, 38 : 0.022857, 39 : 0.022857, 40 : 0.022857, 41 : 0.022857, 42 : 0.022857, 43 : 0.022857, 44 : 0.022857, 45 : 0.022857, 46 : 0.022857, 47 : 0.022857, 
        52 : 0.022857, 53 : 0.022857, 54 : 0.022857, 55 : 0.022857, 56 : 0.022857, 57 : 0.022857, 58 : 0.022857, 59 : 0.022857, 60 : 0.022857, 61 : 0.022857, 62 : 0.022857, 63 : 0.022857}

    4: {04 : 0.022857, 05 : 0.022857, 06 : 0.022857, 07 : 0.022857, 08 : 0.022857, 09 : 0.022857, 10 : 0.022857, 11 : 0.022857, 12 : 0.022857, 13 : 0.022857, 14 : 0.022857, 15 : 0.022857,
        20 : 0.022857, 21 : 0.022857, 22 : 0.022857, 23 : 0.022857, 24 : 0.022857, 25 : 0.022857, 26 : 0.022857, 27 : 0.022857, 28 : 0.022857, 29 : 0.022857, 30 : 0.022857, 31 : 0.022857,
        36 : 0.022857, 37 : 0.022857, 38 : 0.022857, 39 : 0.022857, 40 : 0.022857, 41 : 0.022857, 42 : 0.022857, 43 : 0.022857, 44 : 0.022857, 45 : 0.022857, 46 : 0.022857, 47 : 0.022857, 
        52 : 0.022857, 53 : 0.022857, 54 : 0.022857, 55 : 0.022857, 56 : 0.022857, 57 : 0.022857, 58 : 0.022857, 59 : 0.022857, 60 : 0.022857, 61 : 0.022857, 62 : 0.022857, 63 : 0.022857}

    5: {04 : 0.022857, 05 : 0.022857, 06 : 0.022857, 07 : 0.022857, 08 : 0.022857, 09 : 0.022857, 10 : 0.022857, 11 : 0.022857, 12 : 0.022857, 13 : 0.022857, 14 : 0.022857, 15 : 0.022857,
        20 : 0.022857, 21 : 0.022857, 22 : 0.022857, 23 : 0.022857, 24 : 0.022857, 25 : 0.022857, 26 : 0.022857, 27 : 0.022857, 28 : 0.022857, 29 : 0.022857, 30 : 0.022857, 31 : 0.022857,
        36 : 0.022857, 37 : 0.022857, 38 : 0.022857, 39 : 0.022857, 40 : 0.022857, 41 : 0.022857, 42 : 0.022857, 43 : 0.022857, 44 : 0.022857, 45 : 0.022857, 46 : 0.022857, 47 : 0.022857, 
        52 : 0.022857, 53 : 0.022857, 54 : 0.022857, 55 : 0.022857, 56 : 0.022857, 57 : 0.022857, 58 : 0.022857, 59 : 0.022857, 60 : 0.022857, 61 : 0.022857, 62 : 0.022857, 63 : 0.022857}

    6: {04 : 0.022857, 05 : 0.022857, 06 : 0.022857, 07 : 0.022857, 08 : 0.022857, 09 : 0.022857, 10 : 0.022857, 11 : 0.022857, 12 : 0.022857, 13 : 0.022857, 14 : 0.022857, 15 : 0.022857,
        20 : 0.022857, 21 : 0.022857, 22 : 0.022857, 23 : 0.022857, 24 : 0.022857, 25 : 0.022857, 26 : 0.022857, 27 : 0.022857, 28 : 0.022857, 29 : 0.022857, 30 : 0.022857, 31 : 0.022857,
        36 : 0.022857, 37 : 0.022857, 38 : 0.022857, 39 : 0.022857, 40 : 0.022857, 41 : 0.022857, 42 : 0.022857, 43 : 0.022857, 44 : 0.022857, 45 : 0.022857, 46 : 0.022857, 47 : 0.022857, 
        52 : 0.022857, 53 : 0.022857, 54 : 0.022857, 55 : 0.022857, 56 : 0.022857, 57 : 0.022857, 58 : 0.022857, 59 : 0.022857, 60 : 0.022857, 61 : 0.022857, 62 : 0.022857, 63 : 0.022857}

    7: {04 : 0.022857, 05 : 0.022857, 06 : 0.022857, 07 : 0.022857, 08 : 0.022857, 09 : 0.022857, 10 : 0.022857, 11 : 0.022857, 12 : 0.022857, 13 : 0.022857, 14 : 0.022857, 15 : 0.022857,
        20 : 0.022857, 21 : 0.022857, 22 : 0.022857, 23 : 0.022857, 24 : 0.022857, 25 : 0.022857, 26 : 0.022857, 27 : 0.022857, 28 : 0.022857, 29 : 0.022857, 30 : 0.022857, 31 : 0.022857,
        36 : 0.022857, 37 : 0.022857, 38 : 0.022857, 39 : 0.022857, 40 : 0.022857, 41 : 0.022857, 42 : 0.022857, 43 : 0.022857, 44 : 0.022857, 45 : 0.022857, 46 : 0.022857, 47 : 0.022857, 
        52 : 0.022857, 53 : 0.022857, 54 : 0.022857, 55 : 0.022857, 56 : 0.022857, 57 : 0.022857, 58 : 0.022857, 59 : 0.022857, 60 : 0.022857, 61 : 0.022857, 62 : 0.022857, 63 : 0.022857}
